extends layout

block body
  nav(class="navbar navbar-default navbar-fixed-top")
    div(class="container-fluid")
      div(class="navbar-header")
        a(class="navbar-brand" href="#") Sendbox

  div(class="content" ng-controller='AppCtrl')

    div(class='col-md-4')
      div(class="section")
        h6(class="section-header") Users
        div(class="section-content")
          form(ng-submit='changeName()')
            div(class='input-group')
              span(class="input-group-addon") @
              input(type="text" class="form-control" placeholder="{{name}}" required ng-model='newName')
              span(class='input-group-btn')
                button(class='btn btn-default' role='button' type='submit') Change Name

          ul(class='list-group')
            li(ng-repeat='user in users' class='list-group-item') {{user}}

    div(class='col-md-8')
      div(class="section")
        h6(class="section-header") Messages
        div(class="section-content")
          form(ng-submit='sendMessage()')
            div(class='input-group')
              input(type="text" class="form-control" size='60', ng-model='message')
              span(class='input-group-btn')
                button(class='btn btn-default' role='button' type='submit') Send

          div(class="message-container")
            div(ng-repeat='message in messages', ng-class='{alert: message.user == "chatroom"}')
              span(class="{{message.type}}") {{message.date | date:'HH:mm:ss'}} &nbsp
              span {{message.user}}: {{message.text}}

  script(src='js/lib/angular/angular.js')
  script(src='js/lib/bootstrap/bootstrap.js')
  script(src='/socket.io/socket.io.js')
  script(src='js/app.js')
  script(src='js/services.js')
  script(src='js/controllers.js')
  script(src='js/filters.js')
  script(src='js/directives.js')